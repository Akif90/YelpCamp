<% layout('layouts/boilerplate.ejs') -%>
<h1 class="text-center">Edit Campground</h1>
<form
  action="/campgrounds/<%= grounds._id %>?_method=PUT"
  method="POST"
  class="needs-validation"
  novalidate
  enctype="multipart/form-data"
>
  <div class="mt-3 w-50 m-auto d-flex flex-column">
    <div class="mb-2">
      <label class="form-label" for="name">Title</label>
      <input
        type="text"
        id="title"
        class="form-control"
        name="title"
        value="<%= grounds.title %>"
        required
      />
    </div>

    <div class="mb-2">
      <label class="form-label" for="location">Location</label>
      <input
        type="text"
        value="<%= grounds.location %>"
        id="location"
        name="location"
        class="form-control"
        required
      />
    </div>

    <div class="mb-2">
      <label for="formFile" class="form-label">Add Images</label>
      <input
        class="form-control"
        type="file"
        name="image"
        id="formFile"
        multiple
      />
    </div>
    <div class="mb-2">
      <label class="form-label" for="price">Price</label>
      <input
        type="text"
        id="price"
        value="<%= grounds.price %>"
        name="price"
        class="form-control"
        required
      />
    </div>
    <div class="mb-2">
      <label class="form-label" for="description">Description</label>
      <textarea
        name="description"
        required
        class="form-control"
        id="description"
      >
<%= grounds.description %></textarea
      >
    </div>
    <button class="btn btn-outline-success m-auto w-25">Submit</button>
    <a class="text-danger-emphasis" href="/campgrounds/<%= grounds._id %>"
      >Go back</a
    >
  </div>
  <div class="row mt-3">
    <% grounds.images.forEach((img,ind)=>{ %>
    <div class="col-4">
      <div class="form-check">
        <input
          class="form-check-input"
          type="checkbox"
          name="deletedImages[]"
          id="<%= ind %>"
          value="<%= img.filename %>"
        />
        <label for="<%= ind %>">Delete</label>
      </div>

      <img src="<%= img.thumbnail %>" alt="" class="img-thumbnail" />
    </div>
    <% }) %>
  </div>
</form>
